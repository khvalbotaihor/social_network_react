{"version":3,"sources":["redux/dialogs-reducer.js","components/Users/users.module.css","components/Common/Preloader/preloader.module.css","hoc/withAuthRedirect.js","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Friends/Friend/Friend.js","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/Common/Paginator/Paginator.jsx","assets/user.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/react-redux.js","hoc/withSuspense.js","App.js","index.js","components/Common/FormsControls/FormsControls.js","components/Navbar/Friends/Friends.module.css","components/Common/FormsControls/FormsControls.module.css","components/Common/Preloader/preloader.jsx","components/Common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","mapStateToPropsForRedirect","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","authMe","followUser","post","unFollowUser","delete","getProfile","userId","profileAPI","getStatus","updateStatus","status","put","authAPI","login","email","password","rememberMe","logOut","Friend","className","s","friends","friendStyle","Friends","friend","sidebar","map","el","index","container","FriendsContainer","Navbar","classes","nav","item","activeClassName","activeLink","active","Music","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","unFollow","follow","src","photos","small","userPhoto","disabled","some","Users","usersPage","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","compose","bind","page","totalCount","Header","header","alt","loginBlock","logout","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","style","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducer","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","_store_","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","component","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","child","hasError","formControl","TextArea","restProps","placeholder","validators","text","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","addNewPost","setStatus","getUserProfile","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.14f44966.chunk.js","sourcesContent":["let SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nconst initialState = {\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How is your it-kamasutra?\"},\r\n        {id: 3, message: \"Yo!!!\"},\r\n        {id: 4, message: \"Yo!!!\"},\r\n        {id: 5, message: \"Yo!!!\"},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Dimich'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Valera'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let newMessage = {\r\n                id: 11,\r\n                message: action.newMessageBody\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE,newMessageBody})\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__17sEO\",\"selectedPage\":\"users_selectedPage__2WsOV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-ring\":\"preloader_lds-ring__2y5JO\"};","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\"/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"526efb90-d0dd-4e0f-b76d-1ec8c849b053\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    authMe () {\r\n        return instance.get(`auth/me`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    followUser (id) {\r\n        return instance.post(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    unFollowUser (id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getProfile (userId){\r\n       return  profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId){\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus (userId){\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus (status){\r\n        return instance.put(`profile/status`, {status:status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe () {\r\n        return instance.get(`auth/me`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    login (email,password, rememberMe=false) {\r\n        return instance.post(`auth/login`,{email:email, password: password,rememberMe:rememberMe})\r\n    },\r\n    logOut () {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1K9Fs\",\"item\":\"Navbar_item__7NLtA\",\"activeLink\":\"Navbar_activeLink__34KyV\"};","import s from \"../Friends.module.css\";\r\nimport React from 'react';\r\n\r\nconst Friend = (props) =>{\r\n    return (\r\n        <div className={s.friends}>\r\n            <div className={s.friendStyle}></div>\r\n            <div className={s.name}>{props.name}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport s from './Friends.module.css'\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\nconst Friends = (props) => {\r\n    let friend = props.sidebar.friends.map((el, index) =>\r\n        <Friend name={el.name} key={index}/>)\r\n\r\n    return (\r\n        <div>\r\n            <h1>Friends</h1>\r\n            <div className={s.container}>\r\n                {friend}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        sidebar: state.sidebar\r\n    }\r\n}\r\n\r\nconst FriendsContainer = connect(mapStateToProps)(Friends)\r\n\r\nexport default FriendsContainer;\r\n","import React from \"react\";\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/profile\"\r\n                         activeClassName={classes.activeLink}\r\n                > Profile </NavLink>\r\n            </div>\r\n            <div className={`${classes.active} ${classes.item}`}>\r\n                <NavLink to=\"/dialogs\"\r\n                         activeClassName={classes.activeLink}\r\n                >Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/users\"\r\n                         activeClassName={classes.activeLink}\r\n                >Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/news\"\r\n                         activeClassName={classes.activeLink}\r\n                >News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"./music\"\r\n                         activeClassName={classes.activeLink}\r\n                >Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/settings\"\r\n                         activeClassName={classes.activeLink}\r\n                >Settings</NavLink>\r\n            </div>\r\n\r\n            <FriendsContainer />\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Music = () =>{\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music;","import React from \"react\";\r\n\r\nconst News = () =>{\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return(\r\n        <div>Settings</div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        const data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollowUser.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount,pageSize, currentPage, onPageChanged, portionSize=10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize +1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={()=> {setPortionNumber(portionNumber-1)}} >PREV</button>\r\n            }\r\n            {pages\r\n                .filter(p => p>=leftPortionPageNumber && p <=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage] : currentPage === p },\r\n                styles.pageNumber)}\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p)\r\n                    }}\r\n                    > {p} </span>\r\n            }) }\r\n            {portionCount > portionNumber &&\r\n            <button onClick={()=>{setPortionNumber(portionNumber +1)}}>NEXT</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.81251c2b.png\";","import React from 'react';\r\nimport userPhoto from \"../../assets/user.png\";\r\nimport styles from \"./users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                             <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                  className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                unFollow(user.id)\r\n                            }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id)\r\n                            }}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"u.location.country\"}</div>\r\n                        <div>{\"u.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                       pageSize={pageSize} totalItemsCount={totalUsersCount}/>\r\n            <div>\r\n                {users.map(u => <User key={u.id}\r\n                                      user={u}\r\n                                      followingInProgress={props.followingInProgress}\r\n                                      follow={props.follow}\r\n                                      unFollow={props.unFollow}\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n\r\n}\r\nexport const getUsersSelector = (state) => {\r\n    return getUsers(state).filter(u => true)\r\n\r\n}\r\n\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users)=>{\r\n    return users.filter(u => true)\r\n\r\n\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n\r\n}\r\nexport const getCurrentPage= (state) => {\r\n    return state.usersPage.currentPage;\r\n\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n        }\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingInProgress,\r\n    unFollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from '../Common/Preloader/preloader';\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsFetching, getUsersSuperSelector\r\n} from \"../../redux/users-selector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n      this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    unFollow={this.props.unFollow}\r\n                    follow={this.props.follow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress:getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    //WithAuthRedirect,\r\n    connect(mapStateToProps,{follow,unFollow,setCurrentPage,toggleFollowingInProgress,getUsers: requestUsers}\r\n))(UsersContainer)","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTubyb9WhTgpvPRNhyJziWioWCHhAXMgY7zSg&usqp=CAU\"\r\n                alt=\"\"/>\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await authAPI.authMe();\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logOut();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout })(HeaderContainer);","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../Common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Login\", \"email\", Input,[required] )}\r\n            {createField(\"Password\", \"password\", Input,[required] , {type:\"password\"})}\r\n            {createField(null, \"rememberMe\", Input,null ,{type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n   let promise =  dispatch(getAuthUserData());\r\n   Promise.all([promise])\r\n    .then(()=>{\r\n        dispatch(initializedSuccess());\r\n\r\n    });\r\n\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","\r\nconst initialState=   {\r\n    friends: [\r\n        {id: 1, name: \"Andrew\"},\r\n        {id: 2, name: \"Sasha\"},\r\n        {id: 3, name: \"Bill\"},\r\n    ]\r\n}\r\n\r\nconst sidebarReducer = (state=initialState, action)=> {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducer = combineReducers({\r\n    profilePage:profileReducer,\r\n    dialogsPage:dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers( applyMiddleware(thunk)));\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;\r\n\r\n//інденмпотентний => хоч 100 раз визвати функціо, результат має бути один і той самий - no side effects\r\n// детерминировасть\r\n// якщо кожного разу вхідні дані різні, то кожного разу, має бути різний результат\r\n// чистая функция, іммютабельна - неизменяєма\r\n","import React from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"../src/components/Common/Preloader/preloader\"\r\nimport store from \"./redux/react-redux\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Route path=\"/dialogs\"\r\n                           render={withSuspense(DialogsContainer)}  />\r\n                    <Route path=\"/profile/:userId?\"\r\n                           render={withSuspense(ProfileContainer)}  />\r\n                    <Route path=\"/users\"\r\n                           render={() => <UsersContainer/>}/>\r\n                    <Route path=\"/music\" component={Music}/>\r\n                    <Route path=\"/news\" component={News}/>\r\n                    <Route path=\"/settings\" component={Settings}/>\r\n                    <Route path=\"/login\" render={() => <Login/>} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst SamuraiJSApp = (props) =>{\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root')\r\n);\r\n\r\n","import React from 'react';\r\nimport styles from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta:{touched, error}, child, children}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <span>\r\n                {hasError && error}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}> <input {...input} {...restProps} /> </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}> <input {...input} {...restProps} /> </FormControl>\r\n\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validators, props={}, text=\"\") => (\r\n    <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            component={component}\r\n            validate={validators}\r\n            {...props}\r\n        />{text}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Friends_container__1vXBu\",\"friends\":\"Friends_friends__26b-Y\",\"friendStyle\":\"Friends_friendStyle__3MOkU\",\"name\":\"Friends_name__1CUAn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1R9Vf\",\"error\":\"FormsControls_error__5eM-7\",\"formSummaryError\":\"FormsControls_formSummaryError__443J_\"};","import React from 'react';\r\nimport styles from './preloader.module.css'\r\n\r\nconst preloader = () =>{\r\n    return(\r\n        <div className={styles[\"lds-ring\"]}>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1DaX9\",\"pageNumber\":\"Paginator_pageNumber__2pKTu\",\"selectedPage\":\"Paginator_selectedPage__yhpas\"};","\r\n\r\nexport const required = (value) => {\r\n    if (value )return undefined;\r\n\r\n    return \"Field is required\";\r\n\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\r\n    return undefined;\r\n\r\n}\r\n\r\n/*\r\nexport const maxLength50 = (value) => {\r\n    if (value.length > 50) return \"Max length is 50 symbols\"\r\n\r\n    return undefined;\r\n\r\n}*/\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2SmBk\",\"loginBlock\":\"Header_loginBlock__39sRC\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\"\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 12},\r\n        {id: 2, message: \"It's my first post\", likesCount: 11},\r\n        {id: 3, message: \"Blabla\", likesCount: 11},\r\n        {id: 4, message: \"Dada\", likesCount: 11},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.addNewPost,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\"\r\n            };\r\n        }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (addNewPost) => ({type: ADD_POST, addNewPost})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}